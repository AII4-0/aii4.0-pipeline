schema: '2.0'
stages:
  prepare:
    cmd: python3 main.py --dataset NASA-MSL --batch_size 1024 --window_size 100 --start_index_inputs_exported_in_c
      0 --n_inputs_exported_in_c 0 --model LSTM --epochs 10 --hidden_size 256 --num_layers
      2 --dropout 0 --prediction_length 1 --learning_rate 0.001 --stage prepare
    deps:
    - path: benchmark/data_module.py
      hash: md5
      md5: 7675a03b9b42e70155753af7f0edc555
      size: 5845
    params:
      params.yaml:
        prepare:
          dataset: NASA-MSL
          batch_size: 1024
          window_size: 100
          start_index_inputs_exported_in_c: 0
          n_inputs_exported_in_c: 0
    outs:
    - path: data
      hash: md5
      md5: 766ef5089d137607aba9d47d5fc43b2b.dir
      size: 2955621
      nfiles: 81
  train:
    cmd: python3 main.py --dataset NASA-MSL --batch_size 1024 --window_size 100 --start_index_inputs_exported_in_c
      0 --n_inputs_exported_in_c 0 --model LSTM --epochs 10 --hidden_size 256 --num_layers
      2 --dropout 0 --prediction_length 1 --learning_rate 0.001 --stage train
    deps:
    - path: benchmark/train_module.py
      hash: md5
      md5: a660dac3d541e8fbebb24ea5c072213c
      size: 2643
    - path: data
      hash: md5
      md5: 766ef5089d137607aba9d47d5fc43b2b.dir
      size: 2955621
      nfiles: 81
    params:
      params.yaml:
        train:
          model: LSTM
          epochs: 10
          hidden_size: 256
          num_layers: 2
          dropout: 0
          prediction_length: 1
          learning_rate: 0.001
    outs:
    - path: model
      hash: md5
      md5: 0778a63347ecb648e09847af681b042a
      size: 3175608
  test:
    cmd: python3 main.py --dataset NASA-MSL --batch_size 1024 --window_size 100 --start_index_inputs_exported_in_c
      0 --n_inputs_exported_in_c 0 --model LSTM --epochs 10 --hidden_size 256 --num_layers
      2 --dropout 0 --prediction_length 1 --learning_rate 0.001 --stage test
    deps:
    - path: benchmark/test_module.py
      hash: md5
      md5: e410bef32e02c4ce04c0a8d574e0b80b
      size: 5106
    - path: model
      hash: md5
      md5: 0778a63347ecb648e09847af681b042a
      size: 3175608
    outs:
    - path: output/confusion
      hash: md5
      md5: 7c8ee6ffba3b34c17930e2fffc9e6049.dir
      size: 3096
      nfiles: 1
  evaluate:
    cmd: python3 main.py --dataset NASA-MSL --batch_size 1024 --window_size 100 --start_index_inputs_exported_in_c
      0 --n_inputs_exported_in_c 0 --model LSTM --epochs 10 --hidden_size 256 --num_layers
      2 --dropout 0 --prediction_length 1 --learning_rate 0.001 --stage evaluate
    deps:
    - path: benchmark/eval_module.py
      hash: md5
      md5: dd2fb957b26426032e1e7800b46e97a9
      size: 6242
    - path: output/confusion
      hash: md5
      md5: 7c8ee6ffba3b34c17930e2fffc9e6049.dir
      size: 3096
      nfiles: 1
    outs:
    - path: output/metrics/confusion_matrix.png
      hash: md5
      md5: ddcf0b90bff244eeecced62f2db8153e
      size: 23651
    - path: output/metrics/metrics.json
      hash: md5
      md5: d229d8b56a2760dfab8c8b2920ed90e0
      size: 204
  convert:
    cmd: python3 main.py --dataset NASA-MSL --batch_size 1024 --window_size 100 --start_index_inputs_exported_in_c
      0 --n_inputs_exported_in_c 0 --model LSTM --epochs 10 --hidden_size 256 --num_layers
      2 --dropout 0 --prediction_length 1 --learning_rate 0.001 --batch_size 1 --entity
      0 --stage convert
    deps:
    - path: benchmark/convert_module.py
      hash: md5
      md5: de8577fcb54f95f6666602a15cd86678
      size: 4542
    - path: model
      hash: md5
      md5: 0778a63347ecb648e09847af681b042a
      size: 3175608
    outs:
    - path: model.tflite
      hash: md5
      md5: 16850a18384bea9ed9de2a0ba80eb29d
      size: 3167852
    - path: model_quant.tflite
      hash: md5
      md5: 8bbb6e4f5ecd4fcefc14c17a5a6ac384
      size: 804496
    - path: output/export/model.cpp
      hash: md5
      md5: 38789f78fee9127f026bd62db38ff900
      size: 19982547
    - path: output/export/model.h
      hash: md5
      md5: 671f6ec94bc94e179a7f15ddf49b856a
      size: 455
    - path: output/export/model_quant.cpp
      hash: md5
      md5: 151794716d5b092955296c83a8132eaf
      size: 5075244
    - path: output/export/model_quant.h
      hash: md5
      md5: f801edba2d4038e0f686489e7a3af0b2
      size: 485
  check:
    cmd: python3 main.py --dataset NASA-MSL --batch_size 1024 --window_size 100 --start_index_inputs_exported_in_c
      0 --n_inputs_exported_in_c 0 --model LSTM --epochs 10 --hidden_size 256 --num_layers
      2 --dropout 0 --prediction_length 1 --learning_rate 0.001 --batch_size 1 --entity
      0 --batch_size 1 --stage check
    deps:
    - path: benchmark/check_module.py
      hash: md5
      md5: 19522613cf7dd4795645c51ad10c7fd7
      size: 4237
    - path: model.tflite
      hash: md5
      md5: 16850a18384bea9ed9de2a0ba80eb29d
      size: 3167852
    outs:
    - path: output/metrics/check.json
      hash: md5
      md5: f73e654354b4df32cb96f13ed6552685
      size: 94919
